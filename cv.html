<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV - MJC</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;400i;700;700i&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="cv.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-migrate-3.3.2.min.js"></script>
    <link rel="icon" href="./Images/Logo/Logo_Orig_small.png" type="image/x-icon">

</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WEVEXX891Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WEVEXX891Z');
</script>
<body>
    <div class="background-container">
        <div class="blur-layer"></div>
    </div>

    <!-- Black Overlay (Initially hidden) -->
    <div class="black-overlay"></div>

    <!-- Background Toggle Button -->
    <button class="background-toggle" id="background-toggle">
        <img src="your-icon.png" alt="Toggle Background">
    </button>
    <script>
        // Get the background toggle button and black overlay
        const backgroundToggleButton = document.getElementById('background-toggle');
        const blackOverlay = document.querySelector('.black-overlay');

        // Function to toggle the overlay visibility
        backgroundToggleButton.addEventListener('click', () => {
            blackOverlay.classList.toggle('active'); // Toggle the 'active' class to show/hide the overlay
        });
    </script>

    <!-- Header and Sidebar -->
    <header class="header">
        <h1>Michael J. Colwell, DPhil</h1>
        <h2>• • •</h2>
    </header>

    <!-- Sidebar -->
    <div class="sidebar">
        <a href="index.html">
            <img src="./Images/Logo/Logo_Orig.png" alt="Logo" class="sidebar-logo">
        </a>
        <ul>
            <li><a href="aboutme.html">About Me</a></li>
            <li><a href="cv.html" class="about-link" style="color: rgba(188, 188, 188, 0.9); text-decoration: none;"><span class="arrow">></span> C.V.</a></li>
            <li class="dropdown">
                <a href="javascript:void(0)" class="dropbtn">Photography</a>
                <div class="dropdown-content">
                    <a href="Photos_Highlights.html">Highlights</a>
                    <a href="Photos_Backgrounds.html">Backgrounds / Wallpapers</a>
                </div>
            </li>
            <li class="papers">
                <a href="papers.html">Publications</a>
            </li>
            <li class="datasoftware">
                <a href="datasoftware.html">Data / Software</a>
            </li>
            <li class="illustrations">
                <a href="illustrations.html">Illustrations</a>
            </li>
        </ul>

        <!-- Icon section -->
        <div class="sidebar-icons">
            <a href="https://github.com/mjcolwell">
                <img src="./Images/Logo/Github_Logo.png" alt="Icon 1" class="icon">
            </a>
            <a href="https://orcid.org/0000-0001-7846-2879">
                <img src="./Images/Logo/Orcid_Logo.png" alt="Icon 2" class="icon">
            </a>       
            <a href="https://scholar.google.co.uk/citations?user=vxh7ricAAAAJ&hl=en">
                <img src="./Images/Logo/GoogleSch_Logo.png" alt="Icon 3" class="icon">
            </a>    
            <a href="https://uk.linkedin.com/in/michael-colwell-5787741b7n">
                <img src="./Images/Logo/Linkedin_Logo.png" alt="Icon 4" class="icon">
            </a>    
            <a href="https://x.com/michaeljcolwell?lang=en">
                <img src="./Images/Logo/Twitter(XTheEverythingApTM).png" alt="Icon 5" class="icon">
            </a>    
        </div>
    </div>

<div id="pdf-viewer" style="width: 50%; height: 1000px; overflow-y: auto; border: 2px solid #5d5d5d9d;"></div>

    <!-- Include the PDF.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
<script>
const url = './CV/CV_MColwell.pdf'; // Ensure the path to the PDF file is correct

// Ensure PDF.js library is loaded
const pdfjsLib = window['pdfjs-dist/build/pdf'];
pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';

const pdfViewer = document.getElementById('pdf-viewer');

// Load the PDF document
pdfjsLib.getDocument(url).promise.then(pdf => {
    console.log(`PDF loaded. Number of pages: ${pdf.numPages}`);

    // Render each page
    let pageNumber = 1; // Start from the first page
    const renderPage = async () => {
        const page = await pdf.getPage(pageNumber);

        // Calculate scale based on the viewer container size
        const viewerHeight = pdfViewer.clientHeight;
        const viewerWidth = pdfViewer.clientWidth;

        // Get viewport dimensions
        const viewport = page.getViewport({ scale: 1.075 });
        let scale = Math.min(viewerWidth / viewport.width, viewerHeight / viewport.height); // Adjust scale based on viewer size
        
        // Increase the scale by 10% to make the PDF slightly larger
        scale *= 1.2;

        // Create and append a canvas element for the page
        const canvas = document.createElement('canvas');
        const context = canvas.getContext('2d');
        canvas.style.marginBottom = '20px';
        pdfViewer.appendChild(canvas);

        // Set canvas dimensions based on the scale
        canvas.width = viewport.width * scale;
        canvas.height = viewport.height * scale;

        // Render the PDF page into the canvas context
        await page.render({
            canvasContext: context,
            viewport: page.getViewport({ scale }) // Render with adjusted scale
        }).promise;

        // Move to the next page, or loop if you need to render more pages
        pageNumber++;
        if (pageNumber <= pdf.numPages) {
            renderPage(); // Call recursively to render next page
        }
    };

    renderPage(); // Start rendering the first page

}).catch(err => {
    console.error('Error loading PDF:', err);
});
</script>

    <!-- Main content -->
    <div class="content-box" id="about-section">
            <div class="empty-space"></div>

    </div>

    <div class="Title"><h1>Curriculum Vitae</h1></div>


    <!-- Footer with image and copyright message -->
    <div class="footer">
        <div class="footer-text">
            <p>Looks like this is the end (Dec 2024). Website created by MJC using CSS/JS/HTML and published under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">CC BY-SA 3.0</a>.</p>
        </div>
    </div>

    <script src="script_cv.js"></script>
</body>


</html>
